{
  "version": 3,
  "sources": ["../../kkiapay/dist/k.es.js"],
  "sourcesContent": ["var e;!function(e){e.NETWORK_STATE_CHANGED=\"NETWORK_STATE_CHANGED\",e.INIT_WIDGET=\"INIT_WIDGET\",e.WIDGET_SUCCESSFULLY_INIT=\"WIDGET_SUCCESSFULLY_INIT\",e.CLOSE_WIDGET=\"CLOSE_WIDGET\",e.DESTROY_WIDGET=\"DESTROY_WIDGET\",e.WIDGET_SUCCESSFULLY_DESTROYED=\"WIDGET_SUCCESSFULLY_DESTROYED\",e.PAYMENT_INIT=\"PAYMENT_INIT\",e.PAYMENT_ABORTED=\"PAYMENT_ABORTED\",e.PENDING_PAYMENT=\"PENDING_PAYMENT\",e.ON_USER_FEEDBACK=\"ON_USER_FEEDBACK\",e.PAYMENT_FAILED=\"PAYMENT_FAILED\",e.PAYMENT_SUCCESS=\"PAYMENT_SUCCESS\",e.PAYMENT_END=\"PAYMENT_END\",e.RETRY_PAYMENT=\"RETRY_PAYMENT\"}(e||(e={}));const t={serviceId:\"INTEGRATION\"},n={UI_APP_DEV:\"https://widget-v3.kkiapay.me\",UI_APP_CDN_LINK:\"https://cdn.kkiapay.me/k.js\"},i=[\"amount\",\"sandbox\",\"position\",\"theme\",\"paymentmethod\",\"paymentMethods\",\"providers\",\"fullname\",\"name\",\"email\",\"phoneNumber\",\"phone\",\"data\",\"key\",\"sdk\",\"url\",\"callback\",\"buttontext\",\"direct\",\"split\",\"partnerid\",\"partnerId\",\"successCallback\",\"apikey\",\"api_key\",\"publicAPIKey\",\"countries\"],a={phone:\"phoneNumber\",name:\"fullname\",paymentmethod:\"paymentMethods\",apikey:\"key\",successCallback:\"callback\",publicAPIKey:\"key\",api_key:\"key\",partnerid:\"partnerId\"},d=[\"countries\",\"paymentMethods\"];function o(e){const t=e.split(\"-\");return t[0]+t.slice(1).map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(\"\")}function r(e){const t=JSON.parse(JSON.stringify(e));if(\"\"===t)return t;if(Number.isNaN(Number(t))){if(\"false\"===t)return!1;if(\"true\"===t)return!0;if(t.indexOf(\",\")>-1){return t.split(\" \").join(\"\").split(\",\")}return t}return Number(t)}class s extends HTMLElement{constructor(){super();const e=this.attachShadow({mode:\"open\"});let t,n=document.createElement(\"button\");n.innerHTML=\"en\"===window.navigator.language.split(\"-\")[0]?\"Pay now\":\"Payer maintenant\",n.setAttribute(\"style\",\"\\n        background-color: #4661b9;\\n        color: white;\\n        padding: 10px 20px;\\n        font-size: 16px;\\n        border: none;\\n        border-radius: 5px;\\n        cursor: pointer;\\n      \"),e.appendChild(n),setTimeout((()=>{t=Object.freeze({...this})}),100),n.addEventListener(\"click\",(()=>{window.openKkiapayWidget(t)}))}static get observedAttributes(){return i}attributeChangedCallback(e,t,n){if(null!==t)return;const i=this;if(i[o(e)]=n,this.shadowRoot&&e===o(\"buttontext\")&&n){const e=this.shadowRoot.querySelector(\"button\");e&&(e.innerHTML=i[o(\"buttontext\")])}}}let E,c=()=>{};const T=(()=>{const t={};for(const n in e)t[n]=()=>{};return t})(),u=i=>{i=function(e){const t={...e};for(let e in a)t[e]&&(t[a[e]]=t[e],delete t[e]);for(let e in t){if([\"data\",\"paymentMethods\",\"countries\"].includes(e)){try{t[e]=JSON.parse(JSON.stringify(t[e]))}catch(e){}d.includes(e)&&(t[e]=Array.isArray(r(t[e]))?r(t[e]):[r(t[e])],\"paymentMethods\"===e)&&t.paymentMethods.find((e=>![\"momo\",\"card\",\"direct_debit\"].includes(e)))&&(t.paymentMethods=[\"momo\",\"card\",\"direct_debit\"])}\"amount\"===e&&(t[e]=Number(t[e])),\"phoneNumber\"===e&&(t[e]=String(t[e])),\"sandbox\"===e&&\"boolean\"!=typeof t.sandbox&&(\"true\"===t.sandbox?t.sandbox=!0:(t.sandbox,t.sandbox=!1)),\"position\"!==e||[\"left\",\"right\",\"center\"].includes(t[e])||(t[e]=\"center\")}return t}(i);const o=E.contentWindow;o&&o.postMessage({name:e.INIT_WIDGET,data:{...i,host:window.location.href,...t}},n.UI_APP_DEV)};(()=>{const e=(new Date).getTime();E=document.createElement(\"iframe\"),E.style.cssText=`\\n    display: block;\\n    height: 100svh; \\n    width: 100%; \\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    z-index: ${e};`,E.src=n.UI_APP_DEV,E.setAttribute(\"frameborder\",\"0\"),E.addEventListener(\"load\",(()=>c()))})(),window.addEventListener(\"load\",(()=>(()=>{const e=document.querySelector(\".kkiapay-button\"),t=document.querySelector(`script[src=\"${n.UI_APP_CDN_LINK}\"]`);if(t&&e){let n={};for(let e of i){const i=t.getAttribute(e);i&&(n[e]=i)}e.addEventListener(\"click\",(()=>{p(n)}))}})())),window.addEventListener(\"message\",(t=>{t.data&&T[t.data.name]&&(T[t.data.name](t.data.data),t.data.name===e.CLOSE_WIDGET&&N())}));const p=e=>{c=()=>u(e),document.body.appendChild(E)},N=()=>E.remove(),_=e=>{T.INIT_WIDGET=e},l=e=>{T.CLOSE_WIDGET=e},m=e=>{T.DESTROY_WIDGET=e},w=e=>{T.PAYMENT_INIT=e},A=e=>{T.PAYMENT_ABORTED=e},I=e=>{T.ON_USER_FEEDBACK=e},S=e=>{T.PENDING_PAYMENT=e},y=e=>{T.PAYMENT_FAILED=e},D=e=>{T.PAYMENT_SUCCESS=e},b=e=>{T.PAYMENT_END=e},P=e=>{T.NETWORK_STATE_CHANGED=e},L=(e,t)=>{\"success\"===e?T.PAYMENT_SUCCESS=t:\"failed\"===e&&(T.PAYMENT_FAILED=t)},h=e=>{\"success\"===e?T.PAYMENT_SUCCESS=()=>{}:\"failed\"===e&&(T.PAYMENT_FAILED=()=>{})};window.openKkiapayWidget=p,window.closeKkiapayWidget=N,window.addWidgetInitListener=_,window.addKkiapayCloseListener=l,window.addWidgetDestroyedListener=m,window.addPaymentInitListener=w,window.addPaymentEndListener=b,window.addPaymentAbortedListener=A,window.addFeedbackListener=I,window.addPendingListener=S,window.addFailedListener=y,window.addSuccessListener=D,window.onNetworkStateChanged=P,window.addEventListener=addEventListener,window.addKkiapayListener=L,window.removeKkiapayListener=h,window.customElements.get(\"kkiapay-widget\")||window.customElements.define(\"kkiapay-widget\",s);export{y as addFailedListener,I as addFeedbackListener,l as addKkiapayCloseListener,L as addKkiapayListener,A as addPaymentAbortedListener,b as addPaymentEndListener,w as addPaymentInitListener,S as addPendingListener,D as addSuccessListener,m as addWidgetDestroyedListener,_ as addWidgetInitListener,N as closeKkiapayWidget,P as onNetworkStateChanged,p as openKkiapayWidget,h as removeKkiapayListener};\n"],
  "mappings": "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",
  "names": ["e", "t", "n", "i", "o"]
}
